package com.fdmgroup.activeviamproject;

import java.util.Collections;
import java.util.List;

public class VaRCalculator {
	
	// Defining variable for level of confidence (e.g. 95%)
	private double confidenceLevel;

	//constructor
	public VaRCalculator(double confidenceLevel) {
		super();
		this.confidenceLevel = confidenceLevel;
	}
	
	//method to calculate value at risk for one trade
	public double calculateVaRForATrade(List<Double> data) {
		// Sort data in ascending order
		Collections.sort(data);
		
		//logic to calculate index for VaR based on set confidence level
		// calculate index for VaR based on confidence level
		int position =  (int) Math.ceil((1 - confidenceLevel)*data.size());
		// Our list has 0-indexing, so we will have to take away 1 from our position to suit 0-indexing 
		return data.get(position-1);
	}

}
